
<%= form_for(@approval) do |f| %>
  <% if @approval.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@approval.errors.count, "error") %> prohibited this approval from being saved:</h2>

      <ul>
      <% @approval.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <%= f.hidden_field :rotumid, :value => @rota.id %>
<div class="table">
<table class="user_table">
    <tr></tr>
  <% @users.each do |user| %>
  <% unless user.username == 'admin' %> 

  <tr><th><%= user.username %></th></tr>

  <% end %>
  <% end %>
</table>

    <table class="rotum_table">
      <tr>
    <th>Sunday</th>
    <th>Monday</th>
    <th>Tuesday</th>
    <th>Wednesday</th>
    <th>Thursday</th>
    <th>Friday</th>
    <th>Saturday</th>
  </tr>
    <% if @user_count > 1 %>
  <tr>

    <td>
      <div class="draggable droppable"><span><%= @rota.grid11 %></span>
      <%= f.hidden_field :grid11, :value => @rota.grid11 %></div>
    </td>
    <td>   
        <div class="draggable droppable">
        <span><%= @rota.grid12 %></span>
        <%= f.hidden_field :grid12, :value => @rota.grid12 %>
        </div>
    </td>
    <td><div class="draggable droppable"><span><%= @rota.grid13 %></span><%= f.hidden_field :grid13, :value => @rota.grid13 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid14 %></span><%= f.hidden_field :grid14, :value => @rota.grid14 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid15 %></span><%= f.hidden_field :grid15, :value => @rota.grid15 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid16 %></span><%= f.hidden_field :grid16, :value => @rota.grid16 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid17 %></span><%= f.hidden_field :grid17, :value => @rota.grid17 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 2 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid21 %></span><%= f.hidden_field :grid21, :value => @rota.grid21 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid22 %></span><%= f.hidden_field :grid22, :value => @rota.grid22 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid23 %></span><%= f.hidden_field :grid23, :value => @rota.grid23 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid24 %></span><%= f.hidden_field :grid24, :value => @rota.grid24 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid25 %></span><%= f.hidden_field :grid25, :value => @rota.grid25 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid26 %></span><%= f.hidden_field :grid26, :value => @rota.grid26 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid27 %></span><%= f.hidden_field :grid27, :value => @rota.grid27 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 3 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid31 %></span><%= f.hidden_field :grid31, :value => @rota.grid31 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid32 %></span><%= f.hidden_field :grid32, :value => @rota.grid32 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid33 %></span><%= f.hidden_field :grid33, :value => @rota.grid33 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid34 %></span><%= f.hidden_field :grid34, :value => @rota.grid34 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid35 %></span><%= f.hidden_field :grid35, :value => @rota.grid35 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid36 %></span><%= f.hidden_field :grid36, :value => @rota.grid36 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid37 %></span><%= f.hidden_field :grid37, :value => @rota.grid37 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 4 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid41 %></span><%= f.hidden_field :grid41, :value => @rota.grid41 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid42 %></span><%= f.hidden_field :grid42, :value => @rota.grid42 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid43 %></span><%= f.hidden_field :grid43, :value => @rota.grid43 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid44 %></span><%= f.hidden_field :grid44, :value => @rota.grid44 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid45 %></span><%= f.hidden_field :grid45, :value => @rota.grid45 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid46 %></span><%= f.hidden_field :grid46, :value => @rota.grid46 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid47 %></span><%= f.hidden_field :grid47, :value => @rota.grid47 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 5 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid51 %></span><%= f.hidden_field :grid51, :value => @rota.grid51 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid52 %></span><%= f.hidden_field :grid52, :value => @rota.grid52 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid53 %></span><%= f.hidden_field :grid53, :value => @rota.grid53 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid54 %></span><%= f.hidden_field :grid54, :value => @rota.grid54 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid55 %></span><%= f.hidden_field :grid55, :value => @rota.grid55 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid56 %></span><%= f.hidden_field :grid56, :value => @rota.grid56 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid57 %></span><%= f.hidden_field :grid57, :value => @rota.grid57 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 6 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid61 %></span><%= f.hidden_field :grid61, :value => @rota.grid61 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid62 %></span><%= f.hidden_field :grid62, :value => @rota.grid62 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid63 %></span><%= f.hidden_field :grid63, :value => @rota.grid63 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid64 %></span><%= f.hidden_field :grid64, :value => @rota.grid64 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid65 %></span><%= f.hidden_field :grid65, :value => @rota.grid65 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid66 %></span><%= f.hidden_field :grid66, :value => @rota.grid66 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid67 %></span><%= f.hidden_field :grid67, :value => @rota.grid67 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 7 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid71 %></span><%= f.hidden_field :grid71, :value => @rota.grid71 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid72 %></span><%= f.hidden_field :grid72, :value => @rota.grid72 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid73 %></span><%= f.hidden_field :grid73, :value => @rota.grid73 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid74 %></span><%= f.hidden_field :grid74, :value => @rota.grid74 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid75 %></span><%= f.hidden_field :grid75, :value => @rota.grid75 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid76 %></span><%= f.hidden_field :grid76, :value => @rota.grid76 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid77 %></span><%= f.hidden_field :grid77, :value => @rota.grid77 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 8 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid81 %></span><%= f.hidden_field :grid81, :value => @rota.grid81 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid82 %></span><%= f.hidden_field :grid82, :value => @rota.grid82 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid83 %></span><%= f.hidden_field :grid83, :value => @rota.grid83 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid84 %></span><%= f.hidden_field :grid84, :value => @rota.grid84 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid85 %></span><%= f.hidden_field :grid85, :value => @rota.grid85 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid86 %></span><%= f.hidden_field :grid86, :value => @rota.grid86 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid87 %></span><%= f.hidden_field :grid87, :value => @rota.grid87 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 9 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid91 %></span><%= f.hidden_field :grid91, :value => @rota.grid91 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid92 %></span><%= f.hidden_field :grid92, :value => @rota.grid92 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid93 %></span><%= f.hidden_field :grid93, :value => @rota.grid93 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid94 %></span><%= f.hidden_field :grid94, :value => @rota.grid94 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid95 %></span><%= f.hidden_field :grid95, :value => @rota.grid95 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid96 %></span><%= f.hidden_field :grid96, :value => @rota.grid96 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid97 %></span><%= f.hidden_field :grid97, :value => @rota.grid97 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 10 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid101 %></span><%= f.hidden_field :grid101, :value => @rota.grid101 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid102 %></span><%= f.hidden_field :grid102, :value => @rota.grid102 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid103 %></span><%= f.hidden_field :grid103, :value => @rota.grid103 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid104 %></span><%= f.hidden_field :grid104, :value => @rota.grid104 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid105 %></span><%= f.hidden_field :grid105, :value => @rota.grid105 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid106 %></span><%= f.hidden_field :grid106, :value => @rota.grid106 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid107 %></span><%= f.hidden_field :grid107, :value => @rota.grid107 %></div></td>
  </tr>
<% end %>
    <% if @user_count > 11 %>
  <tr>

    <td><div class="draggable droppable"><span><%= @rota.grid111 %></span><%= f.hidden_field :grid111, :value => @rota.grid111 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid112 %></span><%= f.hidden_field :grid112, :value => @rota.grid112 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid113 %></span><%= f.hidden_field :grid113, :value => @rota.grid113 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid114 %></span><%= f.hidden_field :grid114, :value => @rota.grid114 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid115 %></span><%= f.hidden_field :grid115, :value => @rota.grid115 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid116 %></span><%= f.hidden_field :grid116, :value => @rota.grid116 %></div></td>
    <td><div class="draggable droppable"><span><%= @rota.grid117 %></span><%= f.hidden_field :grid117, :value => @rota.grid117 %></div></td>
  </tr>
  <% end %>
  </table>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
